# This is an example filter config for tracked vehicle Absolem from Czech Technical University's
# VRAS team. The robot is equipped with a 2D lidar attached to a rotating pivot point.
# Collision element base_link::big_collision_box is a virtual collision box attached above the
# robot's body that "captures" all the points generated by various cables and other stuff that is
# hard/impossible to be captured in the robot model.
scan_filter_chain:
  - name: RobotBodyFilter
    type: robot_body_filter/RobotBodyFilterLaserScan
    params:
      frames/fixed: 'odom'
      frames/sensor: 'laser'
      filter/model_pose_update_interval: 0.002  # do not get lower, the processing is then too slow
      sensor/point_by_point: True
      sensor/min_distance: 0.03
      sensor/max_distance: 50.0
      ignored_links/bounding_sphere: ["antenna", "base_link::big_collision_box"]
      ignored_links/shadow_test: ["laser", "base_link::big_collision_box"]
      body_model/inflation/scale: 1.07
      body_model/inflation/padding: 0.01
      body_model/robot_description_param: '/nifti_robot_description'
      transforms/buffer_length: 60.0
      transforms/timeout/reachable: 0.2
      transforms/timeout/unreachable: 0.2
      bounding_sphere/compute: True
      bounding_sphere/debug: False
      bounding_sphere/marker: False
      bounding_sphere/publish_cut_out_pointcloud: False
      bounding_box/compute: False
      bounding_box/debug: False
      bounding_box/marker: False
      bounding_box/publish_cut_out_pointcloud: False
      oriented_bounding_box/compute: False
      oriented_bounding_box/debug: False
      oriented_bounding_box/marker: False
      oriented_bounding_box/publish_cut_out_pointcloud: False
      local_bounding_box/frame_id: "base_link"
      local_bounding_box/compute: True
      local_bounding_box/debug: False
      local_bounding_box/marker: False
      local_bounding_box/publish_cut_out_pointcloud: False
      debug/pcl/inside: False
      debug/pcl/clip: False
      debug/pcl/shadow: False
      debug/marker/contains: False
      debug/marker/shadow: False
